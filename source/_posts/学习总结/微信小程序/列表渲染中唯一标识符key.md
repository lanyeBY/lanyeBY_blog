---
title: 列表渲染中唯一标识符key
date: 2018-08-23 12:04
tags: 微信小程序
catetory: 学习总结
---

小程序中列表渲染最好为每一个渲染项增加一个唯一标识符key

```javaScript
  wx:key={{item.id}}
```

这个不需要做太多解释
关键是key值需要用什么代替。
下面是官方文档的说法：

{% blockquote %}
  wx:key 的值以两种形式提供

  1. 字符串，代表在 for 循环的 array 中 item 的某个 property，该 property 的值需要是列表中唯一的字符串或数字，且不能动态改变。
  2. 保留关键字 *this 代表在 for 循环中的 item 本身，这种表示需要 item 本身是一个唯一的字符串或者数字，如：
  当数据改变触发渲染层重新渲染的时候，会校正带有 key 的组件，框架会确保他们被重新排序，而不是重新创建，以确保使组件保持自身的状态，并且提高列表渲染时的效率。
{% endblockquote %}

这里需要注意的地方为第 2 点， *this 是微信小程序特有的语法（关键字），指向列表中的当前项，但需要和数组下标区分，若要理解，可以理解为小程序自身给该项分配了一个id。
*this 关键字的使用最好只使用在纯数组中，若为对象数组，尽量不要用这个语法，而是给每一个对象分配一个id，并使用这个id作为唯一标识符： {{item.id}} 。
